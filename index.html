<script>
    async function runGame() {
        try {
            await cheerpjInit();
            cheerpjCreateDisplay(800, 600, document.getElementById("container"));

            // [극단적 방법] 파일을 직접 fetch로 불러와서 CheerpJ 가상 시스템에 강제로 심습니다.
            const response = await fetch("colorGame-1.0-SNAPSHOT.jar");
            const blob = await response.blob();
            const buffer = await blob.arrayBuffer();
            
            // 가상 파일 시스템(/app/)에 파일을 수동으로 저장
            cheerpjAddStringFile("/app/colorGame-1.0-SNAPSHOT.jar", new Uint8Array(buffer));

            // 이제 로컬에 있는 것처럼 실행합니다.
            await cheerpjRunJar("/app/colorGame-1.0-SNAPSHOT.jar");
        } catch (e) {
            console.error("실행 오류 상세:", e);
        }
    }
    runGame();
</script>
